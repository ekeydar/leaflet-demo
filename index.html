<!doctype html>
<html>
<head>
    <title>leaflet</title>
    <link rel="stylesheet" href="bower_components/leaflet/dist/leaflet.css"/>
    <link rel="stylesheet" href="my.css"/>
</head>
<body>
<div id="mapid"></div>
<script src="bower_components/jquery/dist/jquery.js"></script>
<script src="bower_components/leaflet/dist/leaflet.js"></script>
<script>
    var initMap = function() {
        var osm = L.tileLayer('http://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
            attribution: '(c) osm'
        });
        var hiking = L.tileLayer('https://israelhiking.osm.org.il/Hebrew/Tiles/{z}/{x}/{y}.png', {
            attribution: '(c) hiking map',
            opacity: 0.3,
        });
        var mbAttr = 'Map data &copy; <a href="http://openstreetmap.org">OpenStreetMap</a> contributors, ' +
            '<a href="http://creativecommons.org/licenses/by-sa/2.0/">CC-BY-SA</a>, ' +
            'Imagery Â© <a href="http://mapbox.com">Mapbox</a>',
            mbUrl = 'https://api.tiles.mapbox.com/v4/{id}/{z}/{x}/{y}.png?access_token=' + 'pk.eyJ1IjoiZWtleWRhciIsImEiOiJjajllNnd0aGIyY3ozMzJweXQ0bGM4azl2In0.JaJSPTRsubdtUkgBl_YyLA';

        var grayscale = L.tileLayer(mbUrl, {id: 'mapbox.light', attribution: mbAttr}),
            streets = L.tileLayer(mbUrl, {id: 'mapbox.streets', attribution: mbAttr});

        var mymap = L.map('mapid', {
            center: [32.10, 34.85],
            zoom: 10,
            layers: [osm, hiking, grayscale, streets]
        });

        L.control.layers({
            'osm': osm,
            'grayscale': grayscale,
            'streets': streets,
        }, {
            'hiking': hiking,
        }).addTo(mymap);
    }
    $.ajax("/files/npnrs.json").done(function(data) {
        console.log(data.length);
    })
    //L.control.layers.baselayers['hiking'].visible = true;
</script>
</body>
</html>





